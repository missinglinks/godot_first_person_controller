[gd_resource type="ShaderMaterial" load_steps=2 format=2]

[sub_resource type="Shader" id=8]
resource_local_to_scene = true
code = "shader_type canvas_item;

uniform float amount: hint_range(1.0, 5.0);
uniform sampler2D flat_texture: hint_albedo;

void fragment() {
	vec3 original = texture(flat_texture, SCREEN_UV).rgb;
	COLOR.rgb = (textureLod(flat_texture, SCREEN_UV, amount).rgb - original)*3.0;
	COLOR.r = max(0.0, COLOR.r);
	COLOR.g = max(0.0, COLOR.g);
	COLOR.b = max(0.0, COLOR.b);
}"

[resource]
shader = SubResource( 8 )
shader_param/amount = 3.0
